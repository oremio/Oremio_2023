# CS复习

## 模拟卷一

### 一：

1.浮点数运算练一下，为什么阶码部件在乘除运算时只进行加减操作？

2.**采用随机存取方式的存储器 ≠ 随机存储器**

5.总线选择题

11.物理层：采样？选择题复习

12.链路层选择题复习

15.应用层选择题复习

### 二：

1.

总线分类：
  - 按传输方向分
    - 单向传输总线
    - 双向传输总线
  - 按传输模式分
    - 并行传输总线
    - 串行传输总线
  - 按时序方式分
    - 同步总线
    - 异步总线
  - 按信号功能分
    - 数据总线：**双向传输，传输数据，位宽与机器字长相关**
    - 地址总线：**单向传输，传输地址，位宽与主存空间有关**
    - 控制总线：**双向传输，传输控制命令或反馈信号**
  - 按所处位置分
    - **片内总线: 芯片内部**
    - **系统总线：连接各功能部件的总线**
    - **I/O总线: 连接中低速I/O设备**

4.
    指令执行所用到的元件有两类：组合逻辑元件（也称为操作元件）和存储元件（也称状态元件）
    连接这两类元件的方式：总线方式和分散连接方式
    数据通路就是由操作元件和存储元件通过总线或分散方式连接而成的进行数据存储，处理和传送的路径
    1.**组合逻辑元件**（只取决于当前的输入）
    一般由多路选择器（MUX），加法器（Adder），算数逻辑部件（ALU），译码器（Decoder）
    2.**状态元件**（最常见的就是D触发器）
    ————————————————
    版权声明：本文为CSDN博主「Julia_luofang」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
    原文链接：https://blog.csdn.net/weixin_43978453/article/details/102653972

10.

OSI参考模型：**有7层**，自下而上依次为**物理层、数据链路层、网络层、传输层、*会话层、表示层*、应用层**，低三层统称为通信子网，传输层承上启下，高三层统称为资源子网。其中，会话层允许不同主机上的各个进程之间进行会话，表示层主要处理在两个通信系统中交换信息的表示方式，应用层为特定类型的网络应用提供访问OSI参考模型环境的手段

- 在OSI参考模型中，会话层的两个主要服务是会话管理和同步。会话层使用校验点可使通信会话在通信失效时从校验点继续恢复通信，实现数据同步
- 在OSI参考模型中，**2、3、4层均提供差错控制、流量控制等功能，3、4层均提供拥塞控制功能**

TCP/IP模型：APRA在研究APRAnet时提出了TCP/IP模型，从低到高依次为**网络接口层、网际层、传输层和应用层**，并由于得到了广泛应用而成为事实上的国际标准

### 三：CPI和MIPS还会算吗？

先算CPI，这个简单

然后是CPU执行时间，它 = （指令条数 × CPI）/ f

然后是MIPS，它 = 指令条数 / （CPU执行时间 × 10^6） = f / CPI × 10^6

### 五：💎牢记：

TLB页表项的构成：页号 + 页帧号 + 状态位P + 访问字段A + 修改位M + 外存地址L

状态位/合法位P：标记该页是否已被调入内存中 → 供程序访问时参考，用于判断是否触发缺页异常

访问字段A：记录本页在一段时间内被访问的次数 → 供置换算法换出页面时参考

修改位M：标识该页在调入内存后是否被修改过 → 当页面被淘汰时，若页面数据没有修改，则不用写回外存

外存地址L：用于指出该页在外存上的地址，通常是物理块号 → 供写回外存和从外存中调入此页时参考

对比：Cache行的构成 = 状态位 + 主存块地址tag + 数据块副本 + 脏位/修改位 + 置换标记位/访问字段，三处相同，页表项的页号 + 页帧号与Cache的tag等效

### 六：

💎复习要求：

会默写常见MIPS指令（一表，32条）

知道常见控制信号，能梳理清楚多周期的数据通路（一图）

### 九：

- 页表项：页帧号
- 段表项：段长 + 始址 
- 段页表呢：PTR（**页表长度 + 页表起始地址，相当于PTR**）

### 十一：

记忆一下专用IP、特殊IP

路由表有哪几项？

路由算法？

## 模拟卷二

### 一：

5.

总线带宽：
- 即在总线的最大数据传输率，单位是MB/s或GB/s。
- 通常不考虑总线传输周期中总线申请和寻址阶段的开销
- 总线带宽计算的是峰值性能
- 💎同步总线带宽 = 总线宽度 × 总线时钟频率 × 单时钟传输次数
- 💎串行总线带宽 = 总线时钟频率 × 编码效率 × 并发通路数

9.

程序装入与链接：
1. 编译：由编译程序将用户源代码编译成若干目标模块
2. 链接：由链接程序将目标模块和库函数链接，形成完整的装入模块
    - 链接类别：静态链接、装入时动态链接、运行时动态链接（**只有最后一种是运行时才去链接所需模块**）
3. 装入：是**由装入程序**将装入模块装入内存运行
    - 静态装入：只适用于单道程序环境。在编译时把物理地址计算好
    - 可重定位装入（静态重定位）：装入时把逻辑地址转换为物理地址，但装入后不能改变
    - 动态运行时装入（**动态重定位**）：
        - 装入程序把装入模块装入内存后，**并不立即把装入模块中的逻辑地址转换为物理地址**，而是把这种地址转换推迟到程序真正要执行时才进行
        - 这样可以将程序分配到不连续的存储区；在程序运行之前**可以只装入部分代码即可投入运行**，然后在程序运行期间，根据需要动态申请分配内存；便于程序段的共享
        - 需要**重定位寄存器**的支持

12.CSMA/CD

15.SMTP

### 二：

1.

*主存容量 / Cache容量 = 标记项位数*

*主存单元号（字块号） / 组相联路数 = 组号*

9.

数据链路层在网络体系结构中的地位：
- 为网络层提供服务
    - 无确认的无连接服务【适用于实时通信或误码率较低的通信信道 - 以太网】
    - 有确认的无连接服务【适用于误码率较高的通信信道 - 无线通信】
    - 有确认的有连接服务【适用于对可靠性，实时性要求较高的场合】
- 使用**点对点**信道的数据链路层
    - **三个重要问题：封装成帧，透明传输，差错检测**
- 使用**广播**信道的数据链路层
    - 共享式以太网的媒体接入控制协议CSMA/CD
    - 802.11局域网的媒体接入控制协议CSMA/CA
- 数据链路层的互连设备
    - 网桥和交换机的工作原理
    - 集线器（物理层互连设备）与交换机的区别

10.电子邮件涉及协议（应用层协议及端口记忆）

### 五：

面向运算的i型指令：addi；andi；ori；xori。第一条指令是进行符号扩展，其余是0扩展

### 六：💎

slt (set less than)

slti(set less than immediate)

跳转指令（j）：**PC高4位，接上（不是加上！）立即数26位，低2位为0**，最大跳转到0x0f ff ff fc

分支指令（i）：

Largest Positive Displacement: 0x0001FFFC（15个1左移两位）

Largest Negative Displacement: 0xFFFE0000（符号扩展的FFFF8000左移两位）

### 七：

库函数是语言或应用程序的一部分，可以运行在用户空间中。而系统调用是操作系统的一部分，是内核为用户提供的程序接口，运行在内核空间中，而且许多库函数都会使用系统调用来实现功能。未使用系统调用的库函数，其执行效率通常要比系统调用的高，因为使用系统调用时，需要上下文的切换及状态的切换（也就是由用户态转向核心态）

### 八：💎

P：使用 / 申请 / 等待
V：返还 / 通知

```
int waiting = 0;
semaphore mutex = 1;
semaphore bchair = 1;
semaphore cchair = 5;
semaphore ready = 0;
semaphore finish = 0;
semaphore up = 0;
cobegin{
    void Customer(){
        P(mutex);
        if(waiting >= 6){
            V(mutex);
            return();
        }
        if(waiting == 0) V(up);
        waiting ++;
        V(mutex);

        P(cchair); //使用一个顾客椅子
        P(bchair); //申请一个理发师椅子
        V(cchair); //返还一个顾客椅子

        V(ready);
        被理发;
        P(finish);

        V(bchair); //返还一个理发师椅子

        P(mutex);
        waiting--;
        V(mutex);
    }
    void Barber(){
        while(1){
            P(mutex);
            if(waiting == 0){
                V(mutex); // 立即释放，否则造成死锁！！
                P(bchair);
                P(up);
                V(bchair);
            }else
                V(mutex);
            P(ready);
            理发;
            V(finish);
        }
    }
}
coend
```

### 十一：三种路由协议

## 模拟卷三

### 一：

4.

数据总线：双向传输，传输数据，位宽与机器字长相关

地址总线：单向传输，传输地址，位宽与主存空间有关

控制总线：双向传输，传输控制命令或反馈信号

5.💎

**DMA优先级比非屏蔽中断高**

DMA与中断差异：

中断通过程序传送数据，DMA靠硬件来实现。

中断时机为两指令之间，DMA响应时机为**两存储周期之间**。

中断不仅具有数据传送能力，还能处理异常事件。DMA只能进行数据传送

DMA仅挪用了一个存储周期，不改变CPU现场

DMA请求的**优先权比中断请求高**。CPU优先响应DMA请求，是为了避免DMA所连接的高速外设丢失数据

DMA利用了中断技术

12.

与传输媒体接口有关的特性？
  - 机械特性：定义物理连接的特性，规定物理连接时所采用的规格、接口形状、引线数目、引脚数量和排列情况
  - 电气特性：规定传输二进制时，线路上信号的**电压范围**，阻抗匹配、传输速率和距离限制。如某网络在物理层规定，信号的电平用+10V ~ +15V表示二进制0，用-10V ~ -15V表示二进制1，电线长度限于15m之内，这些都是电气特性
  - 功能特性：指明某条线上出现的某一电平的**电压表示何种意义**。注意与电气特性区分，如描述一个物理层接口引脚处高电平时的含义表示的是功能特性
    - 过程特性：指明对于不同功能的各种可能事件的出现顺序

15.

Telnet协议是TCP/IP协议族中的一员，是Internet远程登录服务的标准协议和主要方式。它为用户提供了在本地计算机上完成远程主机工作的能力。

### 二：

2.cache的命中hit、缺失miss、命中率、缺失率、平均访问时间、cache访问效率？

- 命中hit、缺失miss
- 命中率、缺失率![img](https://api2.mubu.com/v3/document_image/b00d884f-85d9-4029-9f8c-92e5a8faeddb-329792.jpg)
- 平均访问时间![img](https://api2.mubu.com/v3/document_image/e4f3293b-4747-4512-995d-4865464a86bf-329792.jpg)
- cache访问效率![img](https://api2.mubu.com/v3/document_image/22a9c850-bf81-4ebc-9124-45e02812439c-329792.jpg)

14.协议：由**语法**、**语义**和**同步**三部分组成，语法规定了传输数据的格式，语义规定了所要完成的功能，同步规定了执行各种操作的条件、时序关系等

15.在Internet上，计算机通信的基础构筑块是套接字

### 五、六：

见试卷上笔记

### 七：

进程转入内存时，根据进程的实际需要，动态地分配内存；动态分区是在作业装入时动态建立的；会产生外部碎片，克服外部碎片需要紧凑技术，这需要动态重定位寄存器的支持。

### 八：
```
semaphore full = 0, empty = 1000;
semaphore mutex1 = 1;
semaphore mutex2 = 1;
cobegin{
    void Producer(){
        while(1){
            P(empty);
            P(mutex2);
            produce();
            V(mutex2);
            V(full);
        }
    }
    void Consumer(){
        while(1){
            P(mutex1);
            for(int i = 0; i < 9; i++){
                P(full);
                P(mutex2);
                fetch();
                V(mutex2);
                V(empty);
                consume();
            V(mutex1);
            }
        }
    }
}
coend
```

### 十：

**文件的物理结构**【文件在外存上的存储组织形式】：
- 定义
    - 研究文件数据在物理存储设备上是如何分布和组织的
    - 文件在磁带上--->连续存放方式
    - 文件在磁盘上--->不采用连续存放方式
    - 文件在内存上--->随机存放方式
- 文件的存储方式（对磁盘非空闲块的管理）
    - 顺序分配【类似数组】（访问磁盘1次）
        - **目录项物理地址 = 起始块地址 + 文件长度**
        - 要求连续的存储空间
        - 可随机访问（文件定长）
    - 链表分配【类似链表】（访问磁盘n次）
        - 存放是离散的，不用连续的，于是就可以消除磁盘碎片
        - 可大大提高磁盘空间的利用率，同时文件的长度可以动态扩展
        - 隐式链接无法直接访问数据块，只能通过指针顺序访问文件
            - **目录项 = 起始块地址 + 末尾块地址**  
        - 显式链接把用于链接文件各数据块的指针，显式地存放在内存的**一张**链接表中，内存中的这样一个表格称为文件分配表FAT
            - **目录项 = 起始块地址**
        - **不可随机访问**
    - 索引分配【类似索引表】（m级访问磁盘m+1次）
        - 为**每个文件**创建一个「索引数据块（表）」
        - 里面存放的是指向文件数据块的指针列表
        - 像书的目录一样，要找哪个章节的内容，看目录查就可以
        - 可随机访问
        - **目录项 = 索引数据块指针**
        - 可选方案：链接索引；多层索引；**混合索引**
    - 混合索引分配
        - 为了能够较全面地照顾到小型、中型、大型和特大型文件，可采用混合索引分配方式
        - 对于小文件，为了提高对众多小文件的访问速度，**最好能将它们的每个盘块地址直接放入FCB**，即为直接寻址
        - 对于中型文件，可以采用单级索引方式，**需要先从FCB中找到该文件的索引表，从中获得该文件的盘块地址**，即为一次间址
        - 对于大型或特大型文件,可以采用两级和三级索引分配方式
        - UNIX系统采用的就是这种分配方式，在其索引结点中，共设有13个地址项，即i.addr(0) ~ i.addr(12)
            1. 直接地址。为了提高对文件的检索速度，在索引结点中可设置10个直接地址项，即用i.addr(0) ~ i.addr(9)来存放直接地址，即文件数据盘块的盘块号。假如每个盘块的大小为4KB，当文件不大于40KB时，便可直接从索引结点中读出该文件的全部盘块号
            2. 一次间接地址。对于中、大型文件，可再利用索引结点中的地址项i.addr(10)来提供一次间接地址。**这种方式的实质就是一级索引分配方式**。在一次间址块中可存放1024个盘块号，因而允许文件长达(4KB / 4B(指针大小)) * 4KB = 4MB
            3. 多次间接地址。当文件长度大于4MB + 40KB时，系统还需采用二次间接地址分配方式。这时，用地址项i.addr(11)提供二次间接地址。该方式的实质是两级索引分配方式。系统此时在二次间址块中记入所有一次间址块的盘号。地址项i.addr(11)作为二次间址块，允许文件最大长度可达4GB。同理，地址项iaddr(12)作为三次间址块，其允许的文件最大长度可达4TB